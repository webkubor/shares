import{au as e,f as s,at as n,G as a,o as t,ax as l,aC as i,az as o,aD as u,S as c,aE as r,aN as m,a9 as p,v as d}from"../assets/index-648af22d.js";import{l as v}from"./lucky-4e87d164.js";import{M as f}from"./useMessage-f96efc92.js";import{d as y}from"./dayjs.min-9c47b7b1.js";import{u as x}from"./useMusic-d8b28778.js";import"./bg-1c22183c.js";const g={class:"box-page"},h={class:"box-list"},b=["onClick"],j={src:v,alt:""},C=e({__name:"betting",setup(e){const{onChooseClick:C,onCommonClick:k}=x();let w=s(""),M=n([0,1,2,3,4,5,6,7,8,9]),$=s(null),_=s([]),I=null;function T(e){if(C(),I)return;let s=0;$.value=0,I=setInterval((()=>{s===M.length&&(s=0),$.value=M[s],s++}),100),setTimeout((()=>{clearInterval(I),I=null,f({time:5e3,content:`本期中奖码为${e}`}),async function(e){_.value.includes(e)&&f({time:4e3,content:`恭喜！${e}号箱子已经中奖`});await(s=4e3,new Promise((e=>setTimeout(e,s)))),$.value=null,_.value=[],w.value=z();var s}(e)}),1e3+100*(e+1))}function z(){const e=y();return 1e8*e.year()+1e6*(e.month()+1)+1e4*e.date()+100*e.hour()+e.minute()+Math.floor(1e3+9e3*Math.random())}return a((()=>{w.value=z()})),(e,s)=>(t(),l("div",g,[i("span",null,"期号: "+o(u(w)),1),i("div",h,[(t(!0),l(c,null,r(u(M),((e,s)=>(t(),l("div",{class:m(["item",{active:u($)===s,choose:u(_).includes(s)}]),key:s,onClick:e=>function(e){k(),_.value&&_.value.includes(e)?f({content:"不可重复下注"}):(_.value.push(e),f({time:3e3,content:`<div>投注${e}号箱子，中奖预计为获得\n            <div style="display:flex;align-items:center;justify-content:space-between;margin-top: 8px;">\n                <div style="display:flex;align-items:center;justify-content:space-between;">\n                    <img src="${v}" style="height:40px"> \n                    <span>sdsdsdsds</span>\n                    <span style="color:yellow; margin-left:10px;"> *2</span>\n                </div>\n                <span>x总价值 30/40</span>\n                </div>\n            </div>`}))}(s)},[i("span",null,o(e),1),p(i("img",j,null,512),[[d,u($)===s]])],10,b)))),128))]),i("button",{class:"xbox-action-btn",onClick:s[0]||(s[0]=e=>T(8))},"开始出奖")]))}},[["__scopeId","data-v-f4f9f4e7"]]);export{C as default};
