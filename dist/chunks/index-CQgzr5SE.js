import{P as L}from"./lib-CEwVm6x4.js";import{v as z,B as A,x as E,y as U,z as q}from"./naive-ByXUNVmA.js";import{d as D,r as c,K as d,L as m,F as w,_ as O,J as Q,Z as G,N as u,S as i,R as p,b as g,Q as k,a0 as N,a1 as B,k as J,P as K,M as W}from"./vendor-DvKkXVKX.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";function F(e,o,a,l){const t=new Notification(e,{body:o,data:{test:122},tag:`message-${Date.now()}`,icon:l});console.log("通知已发送:",t),t.onclick=r=>{r.preventDefault(),window.open(a,"_blank")},setTimeout(()=>t.close(),7e3)}function Z(e){if(!("Notification"in window)||!e)return;const o="https://www.yuque.com/webkubor/blog",a="博客通知",l="https://img2.imgtp.com/2024/05/15/BDkFGt9T.png";console.log(Notification.permission),Notification.permission==="granted"?F(a,e,o,l):Notification.requestPermission().then(t=>{t==="granted"?F(a,e,o,l):console.log("用户拒绝了通知权限")}).catch(t=>{console.error("请求通知权限时发生错误:",t)})}function j(){return{popNotice:Z}}const H=e=>(N("data-v-8414aaad"),e=e(),B(),e),X={class:"barrage-board"},Y={class:"show-row"},ee=H(()=>u("div",{class:"show-row"},null,-1)),te=D({__name:"board",setup(e){const o=c(""),a=c("22"),l=c(20),t=c([]),r=c(null),{popNotice:v}=j();let b=[{label:"慢",value:40},{label:"中等（默认）",value:20},{label:"快速",value:10}],C=[{label:"小",value:"16"},{label:"中等（默认）",value:"22"},{label:"大",value:"30"}];const P=()=>{if(o.value.trim()===""){v("请先输入弹幕内容!");return}const _={content:o.value,style:{color:r.value??R(),top:`${T()}%`,fontSize:`${a.value}px`,fontWeight:"bold",animationDuration:`${l.value}s`}};t.value.push(_),o.value="",console.log(t.value,"弹幕列表")},R=()=>{const _="0123456789ABCDEF";let n="#";for(let f=0;f<6;f++)n+=_[Math.floor(Math.random()*16)];return n},T=()=>Math.floor(Math.random()*70)+10,$=()=>{t.value=[]};return(_,n)=>{const f=z,S=A,x=E,y=U,I=q;return d(),m(w,null,[(d(!0),m(w,null,O(t.value,(s,V)=>(d(),m("div",{key:V,class:"danmaku",style:Q(s.style)},G(s.content),5))),128)),u("div",X,[u("div",Y,[i(f,{value:o.value,"onUpdate:value":n[0]||(n[0]=s=>o.value=s),clearable:"",type:"textarea",autosize:"",style:{"min-width":"80%"}},null,8,["value"]),i(S,{onClick:P,type:"primary"},{default:p(()=>[g("发送弹幕")]),_:1}),i(S,{dashed:"",type:"info",onClick:$},{default:p(()=>[g("清空弹幕")]),_:1})]),i(y,{label:"弹幕速度:","label-placement":"left","label-width":"90"},{default:p(()=>[i(x,{value:l.value,"onUpdate:value":n[1]||(n[1]=s=>l.value=s),options:k(b)},null,8,["value","options"])]),_:1}),i(y,{label:"字体大小:","label-placement":"left","label-width":"90"},{default:p(()=>[i(x,{value:a.value,"onUpdate:value":n[2]||(n[2]=s=>a.value=s),options:k(C)},null,8,["value","options"])]),_:1}),i(y,{label:"颜色(随机):","label-placement":"left","label-width":"90"},{default:p(()=>[i(I,{value:r.value,"onUpdate:value":n[3]||(n[3]=s=>r.value=s),modes:["hex"],swatches:["#FFFFFF","#18A058","#2080F0","#F0A020","rgba(208, 48, 80, 1)"]},null,8,["value","swatches"])]),_:1}),ee])],64)}}}),oe=h(te,[["__scopeId","data-v-8414aaad"]]),ae={en:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",skipTo:"Skip to",skipSeconds:"{seconds} seconds",seekLabel:"{currentTime} of {duration}",playedSeconds:"Played {seconds}",playedMinutes:"Played {minutes} minutes",durationSeconds:"Duration {seconds}",durationMinutes:"Duration {minutes} minutes",fullscreen:{enter:"Enter fullscreen",exit:"Exit fullscreen"},quality:"Quality",loop:"Loop",speed:"Speed",normal:"Normal"},es:{restart:"Reiniciar",rewind:"Retroceder {seektime}s",play:"Reproducir",pause:"Pausa",fastForward:"Avanzar {seektime}s",seek:"Buscar",played:"Reproducido",buffered:"Bufferizado",currentTime:"Tiempo actual",duration:"Duración",volume:"Volumen",mute:"Silenciar",unmute:"Activar sonido",enableCaptions:"Activar subtítulos",disableCaptions:"Desactivar subtítulos",download:"Descargar",enterFullscreen:"Pantalla completa",exitFullscreen:"Salir de pantalla completa",skipTo:"Saltar a",skipSeconds:"{seconds} segundos",seekLabel:"{currentTime} de {duration}",playedSeconds:"Reproducido {seconds}",playedMinutes:"Reproducido {minutes} minutos",durationSeconds:"Duración {seconds}",durationMinutes:"Duración {minutes} minutos",fullscreen:{enter:"Pantalla completa",exit:"Salir de pantalla completa"},quality:"Calidad",loop:"Bucle",speed:"Velocidad",normal:"Normal"}},ne={class:"video-barrage"},le=["src"],se={__name:"index",props:{src:String,barrage:Boolean},setup(e){let o=e,a=c(null);J(()=>{l()});function l(){if(!a.value)return;const t={i18n:ae.es};new L(a.value,t).on("play",v=>{const b=v.detail.plyr;console.log("开始播放了",b)})}return(t,r)=>(d(),m("div",ne,[u("video",{ref_key:"playerVideo",ref:a,src:e.src,playsinline:"",controls:""},null,8,le),k(o).barrage?(d(),K(oe,{key:0})):W("",!0)]))}},ie=h(se,[["__scopeId","data-v-d18f5462"]]),M=e=>(N("data-v-fc7571da"),e=e(),B(),e),re=M(()=>u("div",{class:"common-bg-move page-bg"},null,-1)),ue=M(()=>u("div",{class:"common-title"},[g("webkubor "),u("span",{class:"more"},"UI")],-1)),ce=D({__name:"index",setup(e){return document.title="弹幕测试",(o,a)=>(d(),m(w,null,[re,ue,i(ie,{barrage:!0,src:"https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-576p.mp4"})],64))}}),fe=h(ce,[["__scopeId","data-v-fc7571da"]]);export{fe as default};
