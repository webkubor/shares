import{r as p,I as D,k as L,K as g,L as k,N as a,Z as C,Q as c,F as j,_ as z,a3 as F,m as N,v as R}from"./vendor-DvKkXVKX.js";import{l as b}from"./lucky-C8IwEJGk.js";import{M as m}from"./useMessage-CRP-wd6H.js";import{d as Z}from"./lib-CEwVm6x4.js";import{b as E}from"./bg-Cx6nd_ZV.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K="/webkubor-shares/assets/choose-u0YwztJX.mp3",P="/webkubor-shares/assets/notice-BDl18vzU.mp3",Q="/webkubor-shares/assets/common-CZaoAgt9.mp3";let s=p(null);const d=o=>{try{o.play()}catch(v){console.log(v),o.current.play()}};function U(){s.value,s.value&&(s.value.pause(),s.value.currentTime=0)}function V(){let o=new Audio(K);d(o)}function W(){let o=new Audio(Q);d(o)}function X(){let o=new Audio(P);d(o)}function Y(){localStorage.getItem("soundSwitch")!="false"&&(s.value=new Audio(E),s.value.loop=!0,s.value.play())}function q(){return{initBackgroundMusic:Y,onCommonClick:W,onClickBox:X,onChooseClick:V,stopMusic:U,playAudio:d}}const G={class:"box-page"},H={class:"box-list"},O=["onClick"],ee={src:b,alt:""},te={__name:"betting",setup(o){const{onChooseClick:v,onCommonClick:x}=q();let f=p(""),h=D([0,1,2,3,4,5,6,7,8,9]),i=p(null),l=p([]),y=100,M=1e3,u=null;L(()=>{f.value=_()});function A(e){x(),l.value&&l.value.includes(e)?m({content:"不可重复下注"}):(l.value.push(e),m({time:3e3,content:`<div>投注${e}号箱子，中奖预计为获得
            <div style="display:flex;align-items:center;justify-content:space-between;margin-top: 8px;">
                <div style="display:flex;align-items:center;justify-content:space-between;">
                    <img src="${b}" style="height:40px"> 
                    <span>sdsdsdsds</span>
                    <span style="color:yellow; margin-left:10px;"> *2</span>
                </div>
                <span>x总价值 30/40</span>
                </div>
            </div>`}))}function T(e){if(v(),u)return;let t=0;i.value=0,u=setInterval(()=>{t===h.length&&(t=0,console.log(i.value,t)),i.value=h[t],t++},y),setTimeout(()=>{clearInterval(u),u=null,m({time:5e3,content:`本期中奖码为${e}`}),I(e)},M+y*(e+1))}function B(e){return new Promise(t=>setTimeout(t,e))}async function I(e){l.value.includes(e)&&m({time:4e3,content:`恭喜！${e}号箱子已经中奖`}),await B(4e3),i.value=null,l.value=[],f.value=_()}function _(){const e=Z(),t=e.year(),r=e.month()+1,n=e.date(),w=e.hour(),S=e.minute(),$=Math.floor(1e3+Math.random()*9e3);return t*1e8+r*1e6+n*1e4+w*100+S+$}return(e,t)=>(g(),k("div",G,[a("span",null,"期号: "+C(c(f)),1),a("div",H,[(g(!0),k(j,null,z(c(h),(r,n)=>(g(),k("div",{class:F(["item",{active:c(i)===n,choose:c(l).includes(n)}]),key:n,onClick:w=>A(n)},[a("span",null,C(r),1),N(a("img",ee,null,512),[[R,c(i)===n]])],10,O))),128))]),a("button",{class:"xbox-action-btn",onClick:t[0]||(t[0]=r=>T(8))},"开始出奖")]))}},ue=J(te,[["__scopeId","data-v-f4f9f4e7"]]);export{ue as default};
